{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///./src/util.ts","webpack:///./src/Popover.tsx","webpack:///external \"react-dom\"","webpack:///./src/ArrowContainer.tsx"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","Constants","POPOVER_CONTAINER_CLASS_NAME","DEFAULT_PADDING","DEFAULT_WINDOW_PADDING","FADE_TRANSITION","DEFAULT_ARROW_COLOR","DEFAULT_POSITIONS","EMPTY_CLIENT_RECT","top","left","bottom","height","right","width","arrayUnique","array","filter","index","self","indexOf","React","react_dom_1","util_1","ArrowContainer_1","ArrowContainer","Popover","_super","_this","apply","this","arguments","target","targetRect","targetPositionIntervalHandler","popoverDiv","positionOrder","willUnmount","willMount","onResize","e","renderPopover","onClick","_a","props","onClickOutside","isOpen","contains","__extends","componentDidMount","setTimeout","position","findDOMNode","getPositionPriorityOrder","updatePopover","componentDidUpdate","prevProps","prevIsOpen","prevPosition","prevBody","content","componentWillMount","componentWillUnmount","removePopover","render","children","parentNode","transitionDuration","createContainer","style","opacity","transition","document","body","appendChild","addEventListener","positionIndex","length","renderWithPosition","getBoundingClientRect","violation","rect","_b","disableReposition","contentLocation","_c","contentLocation_1","align","_d","getNudgedPopoverPosition","nudgedTop","nudgedLeft","rectTop","rectLeft","_e","top_1","popoverRect","firstChild","toFixed","_f","pageYOffset","pageXOffset","absoluteTop","absoluteLeft","startTargetPositionListener","checkInterval","setInterval","newTargetRect","targetPositionHasChanged","callback","args","padding","windowBorderPadding","unstable_renderSubtreeIntoContainer","getLocationForPosition","innerWidth","innerHeight","remove","clearInterval","removeEventListener","removeChild","unmountComponentAtNode","every","defaultPosition","undefined","find","remainingPositions","concat","containerStyle","containerClassName","container","createElement","overflow","keys","forEach","className","targetMidX","targetMidY","oldTargetRect","defaultProps","Component","default","arrowColor","arrowSize","arrowStyle","__assign","paddingLeft","paddingTop","paddingBottom","paddingRight","arrowWidth","borderTop","borderBottom","borderRight","borderLeft"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = require(\"react\");","import { Position } from './index';\n\nexport const Constants = {\n    POPOVER_CONTAINER_CLASS_NAME: 'react-tiny-popover-container',\n    DEFAULT_PADDING: 6,\n    DEFAULT_WINDOW_PADDING: 6,\n    FADE_TRANSITION: 0.35,\n    DEFAULT_ARROW_COLOR: 'black',\n    DEFAULT_POSITIONS: ['top', 'left', 'right', 'bottom'] as Position[],\n    EMPTY_CLIENT_RECT: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        height: 0,\n        right: 0,\n        width: 0,\n    } as ClientRect,\n};\n\nexport const arrayUnique = <T>(array: T[]): T[] => array.filter((value: any, index: number, self: T[]) => self.indexOf(value) === index);\n","import * as React from 'react';\nimport { findDOMNode, unmountComponentAtNode, unstable_renderSubtreeIntoContainer } from 'react-dom';\nimport { Constants, arrayUnique } from './util';\nimport { ArrowContainer } from './ArrowContainer';\nimport { PopoverProps, ContentRenderer, ContentRendererArgs, Position, Align, ContentLocation } from './index';\n\nclass Popover extends React.Component<PopoverProps, {}> {\n    private target: Element = null;\n    private targetRect: ClientRect = null;\n    private targetPositionIntervalHandler: number = null;\n    private popoverDiv: HTMLDivElement = null;\n    private positionOrder: Position[] = null;\n    private willUnmount = false;\n    private willMount = false;\n\n    public static defaultProps: Partial<PopoverProps> = {\n        padding: Constants.DEFAULT_PADDING,\n        windowBorderPadding: Constants.DEFAULT_WINDOW_PADDING,\n        position: ['top', 'right', 'left', 'bottom'],\n        align: 'center',\n        containerClassName: Constants.POPOVER_CONTAINER_CLASS_NAME,\n    };\n\n    public componentDidMount() {\n        window.setTimeout(() => this.willMount = false);\n        const { position, isOpen } = this.props;\n        this.target = findDOMNode(this) as Element;\n        this.positionOrder = this.getPositionPriorityOrder(position);\n        this.updatePopover(isOpen);\n    }\n\n    public componentDidUpdate(prevProps: PopoverProps) {\n        const { isOpen: prevIsOpen, position: prevPosition, content: prevBody } = prevProps;\n        const { isOpen, content, position } = this.props;\n        this.positionOrder = this.getPositionPriorityOrder(this.props.position);\n        if (prevIsOpen !== isOpen || prevBody !== content || prevPosition !== position) {\n            this.updatePopover(isOpen);\n        }\n    }\n\n    public componentWillMount() {\n        this.willUnmount = false;\n        this.willMount = true;\n    }\n\n    public componentWillUnmount() {\n        this.willUnmount = true;\n        this.removePopover();\n    }\n\n    public render() {\n        return this.props.children;\n    }\n\n    private updatePopover(isOpen: boolean) {\n        if (isOpen) {\n            if (!this.popoverDiv || !this.popoverDiv.parentNode) {\n                const { transitionDuration } = this.props;\n                this.popoverDiv = this.createContainer();\n                this.popoverDiv.style.opacity = '0';\n                this.popoverDiv.style.transition = `opacity ${transitionDuration || Constants.FADE_TRANSITION}s`;\n                window.document.body.appendChild(this.popoverDiv);\n                window.addEventListener('resize', this.onResize);\n                window.addEventListener('click', this.onClick);\n            }\n            this.renderPopover();\n        } else if (this.popoverDiv && this.popoverDiv.parentNode) {\n            this.removePopover();\n        }\n    }\n\n    private renderPopover(positionIndex: number = 0) {\n        if (positionIndex >= this.positionOrder.length) {\n            this.removePopover();\n            return;\n        }\n\n        this.renderWithPosition({ position: this.positionOrder[positionIndex], targetRect: this.target.getBoundingClientRect() }, (violation, rect) => {\n            const { disableReposition, contentLocation } = this.props;\n\n            if (violation && !disableReposition && !(typeof contentLocation === 'object')) {\n                this.renderPopover(positionIndex + 1);\n            } else {\n                const { contentLocation, align } = this.props;\n                const { top: nudgedTop, left: nudgedLeft } = this.getNudgedPopoverPosition(rect);\n                const { top: rectTop, left: rectLeft } = rect;\n                const position = this.positionOrder[positionIndex];\n                let { top, left } = disableReposition ? { top: rectTop, left: rectLeft } : { top: nudgedTop, left: nudgedLeft };\n\n                if (contentLocation) {\n                    const targetRect = this.target.getBoundingClientRect();\n                    const popoverRect = (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect();\n                    ({ top, left } = typeof contentLocation === 'function' ? contentLocation({ targetRect, popoverRect, position, align, nudgedLeft, nudgedTop }) : contentLocation);\n                    this.popoverDiv.style.left = `${left.toFixed()}px`;\n                    this.popoverDiv.style.top = `${top.toFixed()}px`;\n                } else {\n                    const [absoluteTop, absoluteLeft] = [top + window.pageYOffset, left + window.pageXOffset];\n                    this.popoverDiv.style.left = `${absoluteLeft.toFixed()}px`;\n                    this.popoverDiv.style.top = `${absoluteTop.toFixed()}px`;\n                }\n\n                this.popoverDiv.style.width = null;\n                this.popoverDiv.style.height = null;\n\n                this.renderWithPosition({\n                    position,\n                    nudgedTop: nudgedTop - rect.top,\n                    nudgedLeft: nudgedLeft - rect.left,\n                    targetRect: this.target.getBoundingClientRect(),\n                    popoverRect: (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect(),\n                }, () => {\n                    this.startTargetPositionListener(10);\n                    if (this.popoverDiv.style.opacity !== '1') {\n                        this.popoverDiv.style.opacity = '1';\n                    }\n                });\n            }\n        });\n    }\n\n    private startTargetPositionListener(checkInterval: number) {\n        if (this.targetPositionIntervalHandler === null) {\n            this.targetPositionIntervalHandler = window.setInterval(() => {\n                const newTargetRect = this.target.getBoundingClientRect();\n                if (this.targetPositionHasChanged(this.targetRect, newTargetRect)) {\n                    this.renderPopover();\n                }\n                this.targetRect = newTargetRect;\n            }, checkInterval);\n        }\n    }\n\n    private renderWithPosition(\n        { position, nudgedLeft = 0, nudgedTop = 0, targetRect = Constants.EMPTY_CLIENT_RECT, popoverRect = Constants.EMPTY_CLIENT_RECT }: Partial<ContentRendererArgs>,\n        callback?: (boundaryViolation: boolean, resultingRect: Partial<ClientRect>) => void,\n    ) {\n        const { windowBorderPadding: padding, content, align } = this.props;\n        const getContent = (args: ContentRendererArgs): JSX.Element =>\n            typeof content === 'function'\n                ? content(args)\n                : content;\n\n        unstable_renderSubtreeIntoContainer(this, getContent({ position, nudgedLeft, nudgedTop, targetRect, popoverRect, align }), this.popoverDiv, () => {\n            const targetRect = this.target.getBoundingClientRect();\n            const popoverRect = (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect();\n            const { top, left } = this.getLocationForPosition(position, targetRect, popoverRect);\n            callback(\n                position === 'top' && top < padding ||\n                position === 'left' && left < padding ||\n                position === 'right' && left + popoverRect.width > window.innerWidth - padding ||\n                position === 'bottom' && top + popoverRect.height > window.innerHeight - padding,\n                { width: popoverRect.width, height: popoverRect.height, top, left },\n            );\n        });\n    }\n\n    private getNudgedPopoverPosition({ top, left, width, height }: Partial<ClientRect>): ContentLocation {\n        const { windowBorderPadding: padding } = this.props;\n        top = top < padding ? padding : top;\n        top = top + height > window.innerHeight - padding ? window.innerHeight - padding - height : top;\n        left = left < padding ? padding : left;\n        left = left + width > window.innerWidth - padding ? window.innerWidth - padding - width : left;\n        return { top, left };\n    }\n\n    private removePopover() {\n        if (this.popoverDiv) {\n            const { transitionDuration } = this.props;\n            this.popoverDiv.style.opacity = '0';\n            const remove = () => {\n                if (this.willUnmount || !this.props.isOpen || !this.popoverDiv.parentNode) {\n                    window.clearInterval(this.targetPositionIntervalHandler);\n                    window.removeEventListener('resize', this.onResize);\n                    window.removeEventListener('click', this.onClick);\n                    this.targetPositionIntervalHandler = null;\n                    if (this.popoverDiv.parentNode) {\n                        this.popoverDiv.parentNode.removeChild(this.popoverDiv);\n                        unmountComponentAtNode(this.popoverDiv);\n                    }\n                }\n            };\n            if (!this.willUnmount) {\n                window.setTimeout(remove, (transitionDuration || Constants.FADE_TRANSITION) * 1000);\n            } else {\n                remove();\n            }\n        }\n    }\n\n    private onResize = (e: any) => {\n        this.renderPopover();\n    }\n\n    private onClick = (e: MouseEvent) => {\n        const { onClickOutside, isOpen } = this.props;\n        if (!this.willUnmount && !this.willMount && !this.popoverDiv.contains(e.target as Node) && !this.target.contains(e.target as Node) && onClickOutside && isOpen) {\n            onClickOutside(e);\n        }\n    }\n\n    private getPositionPriorityOrder(position: Position | Position[]): Position[] {\n        if (position && typeof position !== 'string') {\n            if (Constants.DEFAULT_POSITIONS.every(defaultPosition => position.find(p => p === defaultPosition) !== undefined)) {\n                return arrayUnique(position);\n            } else {\n                const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => position.find(p => p === defaultPosition) === undefined);\n                return arrayUnique([...position, ...remainingPositions]);\n            }\n        } else if (position && typeof position === 'string') {\n            const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => defaultPosition !== position);\n            return arrayUnique([position, ...remainingPositions]);\n        }\n    }\n\n    private createContainer(): HTMLDivElement {\n        const { containerStyle, containerClassName } = this.props;\n        const container = window.document.createElement('div');\n\n        container.style.overflow = 'hidden';\n\n        if (containerStyle) {\n            Object.keys(containerStyle).forEach(key => container.style[key as any] = (containerStyle as CSSStyleDeclaration)[key as any]);\n        }\n\n        container.className = containerClassName;\n        container.style.position = 'absolute';\n        container.style.top = '0';\n        container.style.left = '0';\n\n        return container;\n    }\n\n    private getLocationForPosition(position: Position, newTargetRect: ClientRect, popoverRect: ClientRect): ContentLocation {\n        const { padding, align } = this.props;\n        const targetMidX = newTargetRect.left + (newTargetRect.width / 2);\n        const targetMidY = newTargetRect.top + (newTargetRect.height / 2);\n        let top: number;\n        let left: number;\n        switch (position) {\n            case 'top':\n                top = newTargetRect.top - popoverRect.height - padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'left':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.left - padding - popoverRect.width;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n            case 'bottom':\n                top = newTargetRect.bottom + padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'right':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.right + padding;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n        }\n\n        return { top, left };\n    }\n\n    private targetPositionHasChanged(oldTargetRect: ClientRect, newTargetRect: ClientRect): boolean { // could move to a utilities file, along with some others potentially\n        return oldTargetRect === null\n            || oldTargetRect.left !== newTargetRect.left\n            || oldTargetRect.top !== newTargetRect.top\n            || oldTargetRect.width !== newTargetRect.width\n            || oldTargetRect.height !== newTargetRect.height;\n    }\n}\n\nexport { ArrowContainer };\nexport default Popover;\n","module.exports = require(\"react-dom\");","import * as React from 'react';\nimport { Position, ArrowContainerProps } from './index';\nimport { Constants } from './util';\n\nconst FLEX_CENTER_CHILD: React.CSSProperties = {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n};\n\ninterface ArrowContainerState {\n    nudgedLeft: number;\n    nudgedTop: number;\n}\n\nconst ArrowContainer: React.StatelessComponent<ArrowContainerProps> = ({\n    position,\n    children,\n    style,\n    arrowColor = Constants.DEFAULT_ARROW_COLOR,\n    arrowSize = 10,\n    arrowStyle,\n    popoverRect,\n    targetRect,\n}) => (\n        <div\n            style={{\n                paddingLeft: position === 'right' ? arrowSize : 0,\n                paddingTop: position === 'bottom' ? arrowSize : 0,\n                paddingBottom: position === 'top' ? arrowSize : 0,\n                paddingRight: position === 'left' ? arrowSize : 0,\n                ...style,\n            }}\n        >\n            <div\n                style={{\n                    position: 'absolute',\n                    ...((): React.CSSProperties => {\n                        const arrowWidth = arrowSize * 2;\n                        let top = (targetRect.top - popoverRect.top) + (targetRect.height / 2) - (arrowWidth / 2);\n                        let left = (targetRect.left - popoverRect.left) + (targetRect.width / 2) - (arrowWidth / 2);\n                        left = left < 0 ? 0 : left;\n                        left = left + arrowWidth > popoverRect.width ? popoverRect.width - arrowWidth : left;\n                        top = top < 0 ? 0 : top;\n                        top = top + arrowWidth > popoverRect.height ? popoverRect.height - arrowWidth : top;\n                        switch (position) {\n                            case 'right':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid ${arrowColor}`,\n                                    left: 0,\n                                    top,\n                                };\n                            case 'left':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderLeft: `${arrowSize}px solid ${arrowColor}`,\n                                    right: 0,\n                                    top,\n                                };\n                            case 'bottom':\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid ${arrowColor}`,\n                                    top: 0,\n                                    left,\n                                };\n                            case 'top':\n                            default:\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderTop: `${arrowSize}px solid ${arrowColor}`,\n                                    bottom: 0,\n                                    left,\n                                };\n                        }\n                    })(),\n                    ...arrowStyle,\n                }}\n            />\n            {children}\n        </div>\n    );\n\nexport { ArrowContainer };\n"],"sourceRoot":""}